<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="/index/index.js"></script>
    <link rel="stylesheet" href="/index/index.css"/>
    <title>AI Messenger - Home</title>
</head>

<body>
    <header>
        <h1>Messenger AI</h1>
    </header>

    <main>
        <% if (locals.invites && locals.invites.length) { %>
            <div class="yourInvitesWrapper">
                <h2>Your Invites</h2>
                <section class="yourInvites linksContainer">
                        <% locals.invites.forEach((invite) => { %>
                            <article class="invite link active" data-room-id="<%=invite.roomId%>"><%=invite.sender%> has invited you to "<%=invite.chatName%>"<span></span></article>
                        <% }); %>
                        <article class="invite link noActiveMsg"></article>
                </section>
            </div>
        <% } %>

        <div class="yourChatsWrapper">
            <h2>Your Chats</h2>
            <section class="yourChats linksContainer">
                <%if (locals.rooms && locals.rooms.length) {%>
                    <%locals.rooms.forEach((room) => {%>
                        <article class="chat link active" data-room-id='<%=room.id%>'><%=room.name%><span></span></article>
                    <%})%>
                <%}%>
                <%if (!locals.rooms || !locals.rooms.length) { %>
                    <article class="chat link noActiveMsg">You have no active chats</article>
                <%} else {%>
                    <article class="chat link noActiveMsg"></article>
                <%}%>
            </section>
        </div>
        <div class="newChatBtnWrapper">
            <button class="newChatBtn">Start a chat</button>
        </div>
    </main>
</body>

</html>